#include <iostream>
using namespace std;
 
struct Node
  {
   int data;
   struct Node* next;
   };
   int totalnodes(struct Node* head) 
{ 
    int count = 0; 
    while (head != NULL)
	 { 
        head = head->next; 
        count++; 
    } 
    return count; 
}
struct Node* Middle_Delete_Node(struct Node* head) 
{ 
    if (head == NULL) 
        return NULL; 
    if (head->next == NULL) 
	{ 
        delete head; 
        return NULL; 
    } 
    struct Node* NodeHead_Copy = head;
    int count = totalnodes(head);
    int mid = count / 2;
    while (mid-- > 1) { 
        head = head->next; 
    }
     head->next = head->next->next; 
    return NodeHead_Copy; 
} 
void printList(struct Node* ptr) 
{ 
    while (ptr != NULL) { 
        cout << ptr->data << "->"; 
        ptr = ptr->next; 
    } 
    cout << "NULL\n"; 
} 
Node* NodeHead_Delete_1st(struct Node* head)
{
   if (head == NULL)
   return NULL;
   Node* tempNode = head;
   head = head->next;
   delete tempNode;
   return head;
}
Node* removeLastNode(struct Node* head)
{
   if (head == NULL)
   return NULL;
 
   if (head->next == NULL) {
      delete head;
      return NULL;
   }
   Node* second_last = head;
while (second_last->next->next != NULL)
second_last = second_last->next;
delete (second_last->next);
second_last->next = NULL;
 
return head;
}
void push(struct Node** head, int new_data)
{
   struct Node* newNode = new Node;
   newNode->data = new_data;
   newNode->next = (*head);
   (*head) = newNode;
}
 int main()
{
Node* head = NULL;
push(&head, 8);
   push(&head, 9);
   push(&head, 2);
   push(&head, 3);
   push(&head, 5);
         Node* temp;
   cout<<"Linked list created "<<endl; 
   for (temp = head; temp != NULL; temp = temp->next)
   cout << temp->data << ":";
   if(temp == NULL)
   cout<<"NULL"<<endl;
    head = NodeHead_Delete_1st(head);
   cout<<"Linked list after deleting the  head node"<<endl; 
   for (temp = head; temp != NULL; temp = temp->next)
   cout << temp->data << ":";
   if(temp == NULL)
   cout<<"NULL"<<endl;
   head = removeLastNode(head);
   cout<<"Linked list after deleting last node"<<endl; 
   for (temp = head; temp != NULL; temp = temp->next)
   cout << temp->data << ":";
   if(temp == NULL)
   cout<<"NULL"<<endl;
 
   head = Middle_Delete_Node(head); 
    cout << "Linked List after deletion of the middle node."<<endl; 
    printList(head); 
   return 0;
}
